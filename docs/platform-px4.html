<html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>UdaciDrone with PX4 · Udacidrone</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="UdaciDrone with PX4 · Udacidrone"/><meta property="og:type" content="website"/><meta property="og:url" content="https://udacity.github.io/udacidrone/udacidrone/index.html"/><meta property="og:description" content="Here is an overview of the functionality that UdaciDrone provides with a [PX4](http://px4.io/) drone using the [Mavlink](https://mavlink.io/en/) protocol.  For more specific details on the implementation of the communication with PX4 over Mavlink, check out the `mavlink_connection.py` and `mavlink_utils.py` classes."/><link rel="shortcut icon" href="/udacidrone/undefined"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/udacidrone/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/udacidrone/"><h2 class="headerTitle">Udacidrone</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/udacidrone/docs/getting-started.html" target="_self">Docs</a></li><li><a target="_self"></a></li><li><a href="https://github.com/udacity/udacidrone" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Platforms</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Introduction</h3><ul><li class="navListItem"><a class="navItem" href="/udacidrone/docs/welcome.html">Welcome</a></li><li class="navListItem"><a class="navItem" href="/udacidrone/docs/getting-started.html">Getting Started</a></li></ul></div><div class="navGroup navGroupActive"><h3>Drone API</h3><ul><li class="navListItem"><a class="navItem" href="/udacidrone/docs/drone-api.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/udacidrone/docs/drone-attributes.html">Attributes</a></li></ul></div><div class="navGroup navGroupActive"><h3>Connection API</h3><ul><li class="navListItem"><a class="navItem" href="/udacidrone/docs/connection-api.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/udacidrone/docs/connection-interface.html">Interface Overview</a></li></ul></div><div class="navGroup navGroupActive"><h3>Platforms</h3><ul><li class="navListItem"><a class="navItem" href="/udacidrone/docs/platform-simulator.html">Unity Simulator</a></li><li class="navListItem"><a class="navItem" href="/udacidrone/docs/platform-crazyflie.html">Crazyflie</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/udacidrone/docs/platform-px4.html">PX4</a></li></ul></div><div class="navGroup navGroupActive"><h3>Tutorials</h3><ul><li class="navListItem"><a class="navItem" href="/udacidrone/docs/tutorial-shell.html">UdaciDrone in the Python Shell</a></li><li class="navListItem"><a class="navItem" href="/udacidrone/docs/tutorial-script.html">UdaciDrone in a Python Script</a></li><li class="navListItem"><a class="navItem" href="/udacidrone/docs/tutorial-visdom.html">Plotting Realtime Data</a></li></ul></div><div class="navGroup navGroupActive"><h3>Development</h3><ul><li class="navListItem"><a class="navItem" href="/udacidrone/docs/dev-setup.html">Setup</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>UdaciDrone with PX4</h1></header><article><div><span><p>Here is an overview of the functionality that UdaciDrone provides with a <a href="http://px4.io/">PX4</a> drone using the <a href="https://mavlink.io/en/">Mavlink</a> protocol.  For more specific details on the implementation of the communication with PX4 over Mavlink, check out the <code>mavlink_connection.py</code> and <code>mavlink_utils.py</code> classes.</p>
<p>This document discuses the following:</p>
<ul>
<li><a href="#general-px4-setup">general PX4 configuration</a></li>
<li><a href="#mavlinkconnection-overview">mavlink connection with PX4</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" name="general-px4-setup"></a><a href="#general-px4-setup" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>General PX4 Setup</h2>
<p>These are a set of general setup instructions.  Note that your platform may have slightly different instructions based on how the PX4 flight stack is setup and installed.</p>
<p><em>TODO: add instructions using the Intel Aero as an example</em></p>
<h2><a class="anchor" aria-hidden="true" name="mavlinkconnection-overview"></a><a href="#mavlinkconnection-overview" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>MavlinkConnection</code> Overview</h2>
<p>TODO: instructions for using the PX4Connection class, for both a shell version and a script version.</p>
<p>The connection takes slightly different inputs depending on whether the connection is to be used in the Python Shell or in a Python Script.</p>
<h3><a class="anchor" aria-hidden="true" name="address"></a><a href="#address" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Address</h3>
<p>One of the main inputs to the <code>MavlinkConnection</code> is the &quot;address&quot; of the drone.  If you are sending commands over the wireless link, this would be the serial port and baud rate to use for the communication, while if you are on something like the Intel Aero, this would be UDP address to the UDP stream of the connection to the PX4 autopilot.</p>
<p>Therefore this is really platform dependent and we can only list some of the popular options, you may need to look into the documentation of your specific drone for this.</p>
<h3><a class="anchor" aria-hidden="true" name="python-shell"></a><a href="#python-shell" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Python Shell</h3>
<p>For use in a python shell:</p>
<pre><code class="hljs css py"><span class="hljs-meta">&gt;&gt;&gt; </span>conn = PX4Connection(<span class="hljs-string">'&lt;serial port and baud rate&gt;'</span>, threaded=<span class="hljs-keyword">True</span>)
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="python-script"></a><a href="#python-script" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Python Script</h3>
<p>For use in a python script:</p>
<pre><code class="hljs css py"><span class="hljs-meta">&gt;&gt;&gt; </span>conn = PX4Connection(<span class="hljs-string">'&lt;serial port and baud rate&gt;'</span>, threaded=<span class="hljs-keyword">False</span>)
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="platform-crazyflie.html">← UdaciDrone with a Crazyflie</a><a class="docs-next button" href="tutorial-shell.html">UdaciDrone in the Python Shell →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="copyright">Copyright © 2018 Udacity Inc.</section></footer></div></body></html>